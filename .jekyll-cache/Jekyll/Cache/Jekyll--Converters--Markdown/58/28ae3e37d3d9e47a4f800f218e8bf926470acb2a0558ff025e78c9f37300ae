I"à<p>Hola amigos, sean bienvenidos a esta serie de art√≠culos introductorios dedicados a Elastic Compute Service o ECS de Alibaba. En esta s√©ptima y √∫ltima entrega veremos ECS Networking o Redes de ECS.</p>

<hr />

<p>La nube privada virtual (Virtual Private Cloud - VPC) es una red virtual aislada l√≥gicamente, la cual proporciona aislamiento a nivel de VLAN y bloquea las comunicaciones de la red externa; es un requisito al aprovisionar una instancia de ECS.</p>

<p>VPC ofrece dos funciones principales, los usuarios pueden personalizar su propia topolog√≠a de red, asignar rangos de direcciones IP privadas, asignar segmentos de red y configurar VSwitches.</p>

<p>Los clientes pueden integrar centros de datos existentes a trav√©s de una l√≠nea dedicada (Express Connect) o una puerta de enlace VPN para formar una nube h√≠brida.</p>

<p>Una red privada virtual se compone de dos componentes principales:</p>

<ul>
  <li>Un enrutador virtual (VRouter)</li>
  <li>Uno o m√°s conmutadores virtuales (VSwitch).</li>
</ul>

<p>Un VSwitch es un dispositivo de red b√°sico de una red de VPC y se usa para conectar diferentes instancias de ECS juntas en una subred. Una VPC puede tener un m√°ximo de 24 VSwitches.</p>

<p>Un VRouter es un concentrador que conecta todos los VSwitches en la VPC y sirve como un dispositivo de puerta de enlace que puede conectarse a otras redes.</p>

<p><img src="/assets/img/blog/tutorials/alibaba/articulos-ecs/VPC-Networking.png" alt="image" /></p>

<p>En el diagrama, puede ver la zona 1 y la zona 2 representadas en la regi√≥n de Mumbai en Asia. Como podemos ver, en la zona 1 contamos que la VM 1 y la VM 2 est√°n conectadas a un vSwitch, y en la zona 2, la VM 3 est√° conectada a un VSwitch. Pero ambos VSwitches est√°n dentro de la VPC que se ha creado, por lo tanto, VM1, VM2 y VM3 pueden comunicarse entre s√≠, independientemente del hecho de que est√©n en zonas diferentes; est√°n en la misma red de nube privada virtual.</p>

<h2 id="virtual-private-network">Virtual Private Network</h2>

<p>A cada instancia de ECS conectada a VPC se le asigna una direcci√≥n IP privada cuando se crea. Esa direcci√≥n est√° determinada por la VPC y el bloque CIDR del vSwitch al que est√° conectada la instancia.</p>

<p>Se puede utilizar una direcci√≥n IP privada en los siguientes escenarios:</p>

<ul>
  <li>Balanceo de carga</li>
  <li>Comunicaci√≥n entre instancias de ECS dentro de una intranet</li>
  <li>Comunicaci√≥n entre una instancia de ECS y otros productos en la nube (como OSS y RDS) o dentro de una intranet.</li>
</ul>

<p>Las instancias de ECS admiten dos tipos de direcciones IP p√∫blicas:</p>

<p>** El primero es NATPublicIP, que se asigna a una instancia ECS conectada a VPC. Este tipo de direcci√≥n solo se puede liberar y no se puede desvincular de la instancia.</p>

<p>** El segundo es la direcci√≥n IP el√°stica (EIP). Una direcci√≥n IP el√°stica (EIP) es una direcci√≥n IP p√∫blica independiente que puede comprar y usar. Los EIP se pueden asociar a diferentes instancias de ECS que residen dentro de las VPC a lo largo del tiempo para permitir el acceso p√∫blico a las instancias de ECS.</p>

<p>Sus casos de uso son:</p>

<p>Si no desea conservar la direcci√≥n IP p√∫blica cuando se libera la instancia, puede usar una direcci√≥n NatPublicIP
Si desea mantener una direcci√≥n IP p√∫blica y asociarla a cualquiera de sus instancias ECS conectadas a VPC en la misma regi√≥n, debe usar la direcci√≥n EIP.</p>
:ET